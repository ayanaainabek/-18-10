ackage labka;

import java.util.ArrayList; 
import java.util.List; 

public class Student {

 public static void main(String[] args) throws InterruptedException { 
 List<Horse> horses = prepareHorsesAndStart(10); 
 while (calculateHorsesFinished(horses) != horses.size()) { 
	        	
	        }         
	    }                                                                                                    
	                                                                                                    
 public static int calculateHorsesFinished(List<Horse> horses) throws InterruptedException { 
 int finishedCount = 0; 
 for (Horse horse: horses) {
 if (horse.isFinished() == true) {
 finishedCount++;
	            }
 else {
 System.out.println("Waiting for " + horse.getName());
	                horse.join();
	            }
	        }
	        return finishedCount;                                                                                                    
	    }                                                                                                    
	                                                                                                    
	    public static List<Horse> prepareHorsesAndStart(int horseCount) {                                                                                                    
	        List<Horse> horses = new ArrayList<>(horseCount);                                                                                                    
	        String number;                                                                                                    
	        for (int i = 1; i < horseCount + 1; i++) {                                                                                                    
	            number = i < 10 ? ("0" + i) : "" + i;                                                                                                    
	            horses.add(new Horse("Horse_" + number));                                                                                                    
	        }                                                                                                    
	                                                                                                    
	        for (int i = 0; i < horseCount; i++) {                                                                                                    
	            horses.get(i).start();                                                                                                    
	        }                                                                                                    
	        return horses;                                                                                                    
	    }                                                                                                    
	                                                                                                    
	    public static class Horse extends Thread {                                                                                                    
	                                                                                                    
	        private boolean isFinished;                                                                                                    
	                                                                                                    
	        public Horse(String name) {                                                                                                    
	            super(name);                                                                                                    
	        }                                                                                                    
	                                                                                                    
	        public boolean isFinished() {                                                                                                    
	            return isFinished;                                                                                                    
	        }                                                                                                    
	                                                                                                    
	        public void run() {                                                                                                    
	            String s = "";                                                                                                    
	            for (int i = 0; i < 1001; i++) {                                                                                                  
	                s += "" + i;                                                                                                    
	                if (i == 1000) {                                                                                                    
	                    s = " has finished the race!";                                                                                                    
	                    System.out.println(getName() + s);                                                                                                    
	                    isFinished = true;                                                                                                    
	                }                                                                                                    
	            }                                                                                                    
	        }                                                                                                    
	    }
}
results
Waiting for Horse_01
Horse_03 has finished the race!
Horse_01 has finished the race!
Waiting for Horse_02
Horse_02 has finished the race!
Horse_04 has finished the race!
Waiting for Horse_05
Horse_05 has finished the race!
Horse_09 has finished the race!
Horse_10 has finished the race!
Waiting for Horse_06
Horse_06 has finished the race!
Waiting for Horse_07
Horse_07 has finished the race!
Waiting for Horse_08
Horse_08 has finished the race!
